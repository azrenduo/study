# css 选择器

[选择器查看](https://baike.baidu.com/item/css%E9%80%89%E6%8B%A9%E5%99%A8/2819686?fr=aladdin#12)

## 简单选择器

### ID 选择器

```css
#demoid {
}
```

### 类选择器

```css
.democlass {
}
```

### 元素选择器

```css
p {
}
```

### 通配符选择器

```css
* {
}
```

### 属性选择器

```css
[id="Attribute"] {
}
```

### 伪类选择器

选中某些元素的某种状态 通常配合其他选择器使用

1. 鼠标悬停状态：hover
2. 鼠标按下状态：active
3. 超链接未访问时的状态：link
4. 超链接访问过后的状态：visited
   书写顺序：link > visited > hover > active
5. 第一个子元素：first-child
6. 子元素第一指定类型元素：first-of-type
7. 最后一个子元素：last-child
8. 子元素最后一个指定类型的元素：last-of-type
9. 选中指定的几个子元素：nth-child(n) even:等同于 2n odd 等同于 2n+1
10. 选中指定的几个类型的子元素：nth-of-type
    > 含 type 的选择器忽略其他元素

```css
div:hover {
}
```

### 伪元素选择器

1. before
2. after
3. 选中元素中的第一个字：first-letter
4. 选中元素中第一行的文字：first-line
5. 选中被用户框选的文字：selection

```css
::before {
  content: "此处添加文本内容";
}
::after {
}
```

## 选择器组合

### 后代选择器

```css
div span {
}
```

### 直接子元素选择器

```css
div > em {
}
```

### 并列选择器

```css
div.demo {
}

em,
strong,
span {
}
```

### 兄弟选择器

```css
div + i {
}
```

# css 样式

[CSS 速查词典](https://www.w3cschool.cn/css/dict)

# 层叠

声明冲突：同一个样式，多次应用到同一个元素

层叠(权重计算)：解决声明冲突的过程，浏览器自动处理

## 1. 比较重要性

重要性从高到低：

> 作者样式表：开发者书写的样式
> 1、 作者样式表中的 !importtant 样式
> 2、 作者样式表中普通样式
> 3、 浏览器默认样式表

## 2. 比较特殊性

看选择器

总体规则：选择器选中的范围越窄，越特殊

具体规则：通过选择器，计算出 4 位数(x x x x)

1. 千位：如果是内联样式,记 1，否则记 0
2. 百位：等于选择器中所有 id 选择器的数量
3. 十位：等于选择器中所有类选择器、属性选择器、伪类选择器的数量
4. 各位：等于选择器中所有元素选择器、伪元素选择器的数量

## 3. 比较源次序

书写靠后胜出

# 继承

子元素会继承父元素某些 css 属性

通常，与文字内容相关的属性都能被继承

# 属性值的计算过程

一个元素一个元素一次渲染，顺序安装也页面文档的树形目录结构进行

渲染每个元素的前提条件：该元素的所有 CSS 属性必须有值

一个元素，从所有属性都没有值，到所有属性都有值，这个计算过程，叫做属性值计算过程

无属性值

1. 确定声明值：参考样式表中没有冲突的声明，作为 CSS 属性值
2. 层叠冲突：对样式表有冲突的声明使用层叠规则，确定 CSS 属性值
3. 使用继承：对仍然没有值的书写，若可以继承，则继承父元素的值
4. 使用默认值：对仍然没有值的书写，使用默认值

## 特殊的两个 CSS 取值

- inherit：手动(强制)继承，将父元素的值取出应用到该元素
- initial：初始值，将该属性设置为默认值

```css
a {
  color: inherit; /*强制继承*/
  color: initial; /*初始化*/
}
```

# 盒模型

box：盒子，每个元素在页面中都会生成一个矩形区域(盒子)
盒子类型：

1. 行盒，display 等于 inline 的元素
2. 块盒，display 等于 block 的元素

行盒在页面中不换行，块盒独占一行
display 默认值为 inline
浏览器默认样式表设置块盒：容器元素、h1~h6，p
常见行盒：span，a，img，video，audio

## 盒子的组成部分

无论是行盒、还是块盒，都是由西安几个部分组成，从内到外分别是：

1. 内容 content
   width、height，设置的是盒子内容的宽高
   内容部分通常叫做整个盒子的**内容盒 content-box**

2. 填充(内边距) padding
   盒子边框到盒子内容的距离
   padding-left、padding-right、padding-top、padding-bottom

填充区+内容区=填充盒

1. 边框 border
   边框 = 边框样式 + 边框宽度 + 边框颜色
   边框样式：border-style
   边框宽度：border-width
   边框颜色：border-color

边框+填充区+内容区= **边框盒**

4. 外边距 margin
   边框到其他盒子的距离

盒子简写(速写)属性书写方法

属性名：(上) (右) (下) (左)

属性名:(上) (左右) (下)

属性名：(上下) (左右)

属性名:(上下左右)

# 盒模型应用

## 改变宽高范围

默认情况下，width 和 height 设置的是内容盒的宽高。

> 页面重构师：将 psd 文件(设计稿)制作为静态页面

衡量设计稿尺寸的时候，往往使用的是边框盒，但设置 width 盒 height，则设置的是内容盒

1. 精确计算
2. CSS3：box-sizing

## 改变背景覆盖范围

默认情况下，背景覆盖边框盒
可以通过 background-clip 进行修改

## 溢出处理

overflow，控制内容溢出边框盒的处理方式

## 断词规则

world-break，会影响文字在什么位置被截断换号

- normal：普通。cjk 字符(文字位置截断)，非 CJK 字符(单词位置截断)

- break-all：截断所有。所有字符都在文字出截断

- keep-all：保持所有。所有文字都在单词截断

## 空白处理

单行文本空白处理

```css
whit-space: nowrap;
overflow: hidden;
text-overflow: ellipsis;
```

多行文本空白处理使用 js 处理

# 行盒盒模型

常见的行盒：包含具体内容的元素

span、strong、em、i、img、video、audio

## 显著特点

1. 盒子沿着内容沿伸
2. 行盒不能设置宽高

调整行盒的宽高，应该使用字体大小、行高、字体类型，间接调整。

3. 内边距(padding)

水平方向有效，垂直方向仅会影响背景，不会实际战局空间。

4. 边框(border)

水平方向有效，垂直方向仅会影响背景，不会实际战局空间。

5. 外边距(marging)

水平方向有效，垂直方向仅会影响背景，不会实际战局空间。

## 行块盒

display:inline-block 的盒子

1. 不独占一行
2. 盒模型中所有尺寸都有效

## 空白折叠

发生在行盒(行块盒)内部 或 行盒(行块盒)之间

## 可替换元素 和 非可替换元素

大部分元素，页面上显示的结果，取决于元素内容，称为**非可替换元素**

少部分元素，页面上显示的结果，取决于元素属性，称为**可替换元素**

可替换元素:img、video、audio

绝大部分可替换元素均为行盒。

可替换元素类似于行块盒，盒模型中所有尺寸都有效。

- object-fit

1. contain 保持比例，保留所有图片信息
2. cover 保持比例，牺牲图片信息
3. file 不保持比例，填充图案

# 常规流

盒模型：规定单个盒子的规则

视觉格式化模型(布局规则)：页面中的多个盒子排列规则

视觉格式化模型，大体上将页面中盒子的排列方法分为三种方式：

1. 常规流
2. 浮动
3. 定位

## 常规流布局

常规流、文档流、普通文档流、常规文档流

所有元素，默认情况下，都属于常规流布局

总体规则：块和独占一行，行盒水平依次排列

包含块(containing block):每个盒子都有他的包含块，包含块决定了盒子的排列区域(活动范围)

绝大部分情况下：盒子的包含块，为其父元素的内容盒

**块盒**

1. 每个块和的总宽度，必须刚好等于包含块的宽度

宽度的默认值是 auto

margin 的取值也可以是 auto，默认值 0

auto：将剩余空间吸收

width 吸收能力强于 margin

若宽度、边框、内边距、外边距计算后，仍然有剩余空间，该剩余空间被 margin-right 全部吸收

在常规流中，块盒在其包含块居中，可以定宽、然后左右 margin 设置为 auto。

2. 每个块盒垂直方向上的 auto 值

height:auto,适应内容的高度

margin:auto,表示 0

3. 百分比取值

padding、宽高、margin 可以取值为百分比

以上所有百分比相对于包含块的宽度。

高度的百分比：

    包含块的高度是取决于子元素的高度，设置百分比无效(子元素高度取决于父元素)

    包含块的高度不取决于子元素的高度，百分比当对于父元素的高度

1. 上下外边距合并

两个常规流块盒，上下外边距相邻，会进行合并

两个外边距去最大值

# 浮动

## 浮动的应用场景

1. 文字环绕
2. 横向排列

## 浮动的基本特点

修改 float 属性值为：

- left：左浮动，元素靠上靠左
- right：右浮动，元素靠上靠右

默认值为 none

1. 当一个元素浮动后，元素必定为块盒(更改 display 属性为 block)
2. 浮动元素的包含块，和常规流一样，为父元素的内容盒

## 盒子尺寸

1. 宽度为 auto 时，适应内容宽度
2. 高度为 auto 时，与常规流一致(适应内容高度)
3. margin 为 auto 时，为 0
4. 边框、内边距等的百分比设置与常规流一样

## 盒子排列

1. 左浮动的盒子靠上靠左排列
2. 右浮动的盒子靠上靠右排列
3. 浮动盒子在包含块中排列时，会避开常规流块盒
4. 常规流块盒在排列时，无视浮动盒子
5. 行盒在排列时，会避开浮动盒子
6. 外边距合并不会发生

> 如何文字没有在行盒中，浏览器会自动生成一个行盒包裹，该行盒叫做匿名行盒。

## 高度坍塌

高度坍塌的根源：常规流盒子的自动高度，在计算时，不会考虑浮动盒子

1. 清除浮动，设计 css 属性：clear

- 默认值：none
- left：清除左浮动 该元素必须出现在前面所有左浮动盒子的下方
- right：清除右浮动 该元素必须出现在前面所有右浮动盒子的下方
- both：清除左右浮动 该元素必须出现在前面所有所有浮动盒子的下方

### 建议所有使用浮动的父元素都加上一个 clearfix

# 定位

定位：手动控制元素在包含块中的精准位置

涉及 CSS 属性：position

## position 属性

- 默认值：static，静态定位(不定位)
- relative：相对定位
- absolute：绝对定位
- fixed：固定定位

一个元素，只要 position 的取值不是 static，认为该元素是一个定位元素

定位元素会脱离文档流(相对定位除外)

一个脱离了文档流的元素：

1. 文档流中的元素摆放时，会忽略脱离了文档流的元素
2. 文档流中元素计算自动高度时，会忽略脱离了文档流的元素

## 相对定位(relative)

不会导致元素脱离文档流，只是让元素在原来位置上进行偏移。

可以通过 4 个 CSS 属性设置其位置：

- left
- right
- top
- bottom

盒子的偏移不会对其他盒子造成任何影响(可以理解为偏移只是视觉效果)。

## 绝对定位(absolute)

1. 盒子宽高为 auto 时，盒子适应内容
2. 包含块变化：找祖先元素中第一个定位元素，该元素的填充盒为其包含块。若找不到，则他的包含块为整个网页(初始化包含块)

## 固定定位(fixed)

其他情况和绝对定位完全一样。

包含块不同：固定为视口(浏览器的可视窗口)

## 定位下的居中

某个方向居中：

1. 定宽(高)
2. 将左右(上下)距离设置为 0
3. 将左右(上下)margin 设置为 auto

绝对定位和固定定位中，margin 为 auto 时，会自动吸收剩余空间。

## 多个定位元素重叠时

堆叠上下文

设置 z-index,通常情况下，该值越大，越靠近用户

只有定位元素设置 z-index 有效

z-index 可以是负数，如果是负数，则常规流

## 定位补充

- 绝对定位、固定定位元素一定是块盒
- 绝对定位、固定定位元素一定不是浮动
- 没有外边距合并

## 属性补充

- 透明(alpha)
  每个颜色都具有透明通道，0~1

1. rgba(红,绿,蓝,透);
2. hex:#红绿蓝透

# 盒子隐藏

1. display:none; 不生成盒子，有可能改变其他盒子的布局
2. visibility：hidden；生成盒子，不影响盒子类型，从视觉上移除盒子。

# 美化表单元素

## 新的伪类

1. focus

元素聚焦时的样式

2. checked

单选或多选框被选中的样式

## 常见用法

1. 重置表单元素样式 (myform.css)
2. 设置 textarea 是否允许调整尺寸

css 属性 resize:

- both:默认值，两个方向都可以调整尺寸
- noone:不能调整尺寸
- horizontal：水平方向可以调整尺寸
- vertical：垂直方向可以调整尺寸

3. 文本框到边缘的距离

- 设置 padding
- 设置 text-indent

4. 控制单选和多选的样式
   详情[表单美化练习](demo/6.表单美化练习/index.html)

# @规则

1. @inport

@inport "路径"

导入另外一个 CSS 文件

2. charset

@charset "utf-8"

告诉浏览器该 CSS 文件，使用的字符编码集是 utf-8,必须写在第一行。

# web 字体和图标

解决用户电脑上没有安装相应字体，强制让用户下载该字体

使用[@font0face](./demo/10.WEB字体/index.html)制作一个新字体

## [字体图标](./demo/11.字体图标/index.html)

# 块机格式化上下文

全称 Block Formatting Context，简称 BFC

它是一块独立的渲染区域,它规定了在该区域中，常规流块盒的布局

- 常规流块盒在水平方向上，必须撑满包含块
- 常规流块盒在包含块的垂直方向上依次摆放
- 常规流块盒若外边距无缝相邻，则进行外边距合并
- 常规流块盒的自动高度和摆放位置，无视浮动元素

## BFC 渲染区域：

这个区域由某个 HTML 元素场景，以下元素会在其内部创建 BFC 区域：

- 根元素 意味着，<html>元素创建的 BFC 区域，覆盖了网页中所有的元素
- 浮动盒，绝对定位元素
- overflow 不等于 visible 的块盒

## 独立的渲染区域

不同的 BFC 区域，它们进行渲染时互不干扰
创建 BFC 的元素，隔绝了它内部和外部的联系，内部的渲染不会影响到外部

### 具体规则

1. 创建 BFC 的元素，它的自动高度需要计算浮动元素
2. 创建 BFC 的元素，他的边框盒不会与浮动价格元素重叠
3. 创建 BFC 的元素，不会和它的子元素进行外边距合并

# 布局